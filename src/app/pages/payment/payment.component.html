<h2 class="page-title">Payment Options</h2>

<!-- Step Indicator -->
<div class="stepper">
  <div class="step">Cart</div>
  <div class="step">Address</div>
  <div class="step active">Payment</div>
</div>
<div class="step-line active"></div>

<div class="container">

  <div class="card-modern">

    <h4 class="mb-3">Delivering To:</h4>
    <p class="text-muted">
      {{ address.name }} <br>
      {{ address.street }} <br>
      {{ address.city }} - {{ address.pin }} <br>
      Phone: {{ address.phone }}
    </p>

    <hr>

    <h4>Select Payment Method</h4>

    <div class="mt-3">
      <button class="btn btn-outline-primary w-100 mb-3 p-3"
              (click)="pay('SCAN-UPI')">
        ğŸ’³ Scan and Pay
      </button>

      <button class="btn btn-outline-warning w-100 mb-3 p-3"
              (click)="pay('Card-Payment')">
        ğŸªª Credit / Debit Card
      </button>

      <button class="btn btn-outline-success w-100 mb-3 p-3"
              (click)="pay('COD')">
        ğŸ’µ Cash on Delivery (COD)
      </button>
    </div>

  </div>

  <div class="modal-overlay" *ngIf="showQrPopup">
  <div class="modal-box">

    <h4 class="mb-2 text-center">Scan & Pay</h4>
    <p class="text-center text-muted">
      Amount: â‚¹{{ amt }}
    </p>

    <div class="text-center">
      <img src="assets/images/upi-qr.png"
           alt="UPI QR"
           class="qr-img">
    </div>

    <p class="text-center mt-2">
      Scan this QR using any UPI app
    </p>
    <div>
      <label>Transaction ID*</label>
      <input class="form-control" >
    </div>

    <div class="d-flex gap-2 mt-3">
      <button class="btn btn-success w-100">
        âœ… Paid
      </button>

      <button class="btn btn-outline-secondary w-100"
              (click)="closePopup()">
        âŒ Cancel
      </button>
    </div>

  </div>
</div>
<!-- ================= COD POPUP ================= -->
<div *ngIf="showCodPopup" class="modal-overlay">
  <div class="modal-box">

    <h3 class="text-center mb-2">Cash on Delivery</h3>

    <p class="text-center text-muted">
      Pay when your food is delivered
    </p>

    <div class="cod-info">
      <p><strong>Amount:</strong> â‚¹{{ amt }}</p>
      <p><strong>Payment Method:</strong> Cash on Delivery</p>
      <p><strong>Remarks:</strong><input class="form-control"></p>
    </div>

    <div class="alert alert-warning text-center mt-2">
      âš ï¸ Orders once placed cannot be cancelled easily.
    </div>

    <div class="modal-actions mt-3">
      <button class="btn btn-success w-100"
              (click)="confirmCod()">
        âœ… Confirm Order
      </button>

      <button class="btn btn-outline-danger w-100 mt-2"
              (click)="closeCodPopup()">
        âŒ Cancel
      </button>
    </div>

  </div>
</div>

</div>
